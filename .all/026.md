---
labels:
- data
---

# merge conflicts - new cards

So we have auto-merge working right now, but we have a natural issue with our design and the way that adding tickets will work.

The problem is that the cards are numbered, so if two people add a card, even if they're unrelated, we'll end up in a state where we have two cards with the same number. These will either conflict, or will overwrite each other.

To fix this, we need to store the creation timestamp of a card in the model, and when we merge a tree, we can renumber the cards as appropriate.

This might mean reworking the git side of things so it's more aware of the model, putting the node tree first. But I think it needs careful thought and discussion. The idea is quite simple though - when we have the same card with two different dates, we renumber in a deterministic way. So everything matches up, and update the card links. The simplest is, of course, using the creation timestamp, since the tree will agree on that.
