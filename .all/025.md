---
done: '2026-02-12'
---

# card dependencies

Replace `meta.blocked` (manual boolean toggle) with `meta.deps` (list of card IDs). A card is blocked when any of its deps are not in the final column.

Front-matter format:

```yaml
---
deps: ["012", "015"]
---
```

The parser, loader and writer handle lists in meta already so the data pipeline needs no changes.

**model:** Remove `meta.blocked` usage. Add a helper to derive blocked state: walk `meta.deps`, check if each dep is in the last non-hidden column. `find_card_column` in `model/card.py` already exists for locating a card's column.

**UI:** `BlockedWidget` (`ui/blocked.py`): replace the boolean toggle with a deps editor. Show dep card IDs, allow add/remove. `card_indicators.py`: derive the blocked icon from deps rather than reading `meta.blocked` directly. `CardWidget` (`ui/card.py`): watch deps and their column placement to update blocked styling reactively.

**detail screen:** Card detail needs a way to add/remove deps (card ID picker or text input).

**what stays the same:** Parser, loader, writer, node.py - all handle lists in meta already. The blocked CSS class and visual indicator stay, they just become computed.
